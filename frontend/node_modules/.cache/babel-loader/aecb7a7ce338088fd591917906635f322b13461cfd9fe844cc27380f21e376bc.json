{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\hos-app\\\\frontend\\\\src\\\\components\\\\LogCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport html2canvas from \"html2canvas\";\nimport jsPDF from \"jspdf\";\n\n// Define status colors\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst colors = {\n  OffDuty: \"#66cc66\",\n  Sleeper: \"#9966ff\",\n  Driving: \"#1E90FF\",\n  OnDuty: \"#FFA500\"\n};\n\n// Define Y positions (adjusted to your sheet layout)\nconst statusY = {\n  OffDuty: 162,\n  Sleeper: 122,\n  Driving: 84,\n  OnDuty: 46\n};\n\n// Draws the background image and activity lines\nfunction drawCanvas(ctx, dayActivities, bgImage) {\n  const width = 1000;\n  const height = bgImage.naturalHeight / bgImage.naturalWidth * width;\n  ctx.clearRect(0, 0, width, height);\n  ctx.drawImage(bgImage, 0, 0, width, height);\n  const scaleY = height / bgImage.naturalHeight;\n  dayActivities.forEach(a => {\n    const start = new Date(a.start);\n    const end = new Date(a.end);\n    const startHours = start.getUTCHours() + start.getUTCMinutes() / 60;\n    const endHours = end.getUTCHours() + end.getUTCMinutes() / 60;\n    const xStart = startHours / 24 * width;\n    const xEnd = endHours / 24 * width;\n    const y = (statusY[a.status] || statusY.OffDuty) * scaleY;\n    ctx.strokeStyle = colors[a.status] || \"#000\";\n    ctx.lineWidth = 5;\n    ctx.beginPath();\n    ctx.moveTo(xStart, y);\n    ctx.lineTo(xEnd, y);\n    ctx.stroke();\n  });\n}\nconst LogCanvas = ({\n  days = [],\n  driverInfo = {}\n}) => {\n  _s();\n  const [logDays, setLogDays] = useState(days);\n  useEffect(() => {\n    const bgImage = new Image();\n    bgImage.src = \"/logsheets/blank-paper-log.png\";\n    bgImage.onload = () => {\n      logDays.forEach((day, idx) => {\n        const canvas = document.getElementById(`log-${idx}`);\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        drawCanvas(ctx, day.activities, bgImage);\n      });\n    };\n  }, [logDays]);\n\n  // Calculate total hours for each status\n  const calcTotalHours = (activities, status) => activities.filter(a => a.status === status).reduce((sum, a) => sum + (new Date(a.end) - new Date(a.start)) / 3600000, 0);\n\n  // Compute total hours for the cycle\n  const currentCycleHours = logDays.reduce((sum, d) => sum + calcTotalHours(d.activities, \"Driving\") + calcTotalHours(d.activities, \"OnDuty\"), 0);\n  const handleCanvasClick = (e, dayIndex) => {\n    const canvas = e.target;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const hours = x / canvas.width * 24;\n\n    // Determine clicked status area\n    let status = \"Driving\";\n    if (y < canvas.height * 0.25) status = \"OnDuty\";else if (y < canvas.height * 0.5) status = \"Driving\";else if (y < canvas.height * 0.75) status = \"Sleeper\";else status = \"OffDuty\";\n    const newActivity = {\n      start: new Date(`2025-11-01T${Math.floor(hours)}:00:00Z`),\n      end: new Date(`2025-11-01T${Math.floor(hours + 1)}:00:00Z`),\n      status\n    };\n    setLogDays(prev => {\n      const updated = [...prev];\n      updated[dayIndex].activities.push(newActivity);\n      return updated;\n    });\n  };\n\n  // Export all sheets to a single PDF\n  const handleDownloadPDF = async () => {\n    const pdf = new jsPDF(\"landscape\", \"pt\", \"a4\");\n    const currentDate = new Date().toLocaleString();\n    for (let i = 0; i < logDays.length; i++) {\n      const canvas = document.getElementById(`log-${i}`);\n      if (!canvas) continue;\n      const canvasImage = await html2canvas(canvas, {\n        scale: 2\n      });\n      const imgData = canvasImage.toDataURL(\"image/png\");\n      const pageWidth = pdf.internal.pageSize.getWidth();\n      const pageHeight = canvas.height / canvas.width * pageWidth;\n      if (i > 0) pdf.addPage();\n\n      // Header Info\n      pdf.setFontSize(14);\n      pdf.text(\"FMCSA DRIVER DAILY LOG SHEET\", pageWidth / 2, 30, {\n        align: \"center\"\n      });\n      pdf.setFontSize(10);\n      pdf.text(`Driver: ${driverInfo.name || \"\"}`, 20, 50);\n      pdf.text(`Company: ${driverInfo.company || \"\"}`, 20, 65);\n      pdf.text(`Date: ${logDays[i].date}`, 20, 80);\n      pdf.addImage(imgData, \"PNG\", 0, 100, pageWidth, pageHeight);\n\n      // Summary\n      const driveHrs = calcTotalHours(logDays[i].activities, \"Driving\").toFixed(1);\n      const onDutyHrs = calcTotalHours(logDays[i].activities, \"OnDuty\").toFixed(1);\n      const offDutyHrs = calcTotalHours(logDays[i].activities, \"OffDuty\").toFixed(1);\n      pdf.text(`Driving Hours: ${driveHrs} hrs`, 20, 110 + pageHeight + 10);\n      pdf.text(`On Duty: ${onDutyHrs} hrs`, 220, 110 + pageHeight + 10);\n      pdf.text(`Off Duty: ${offDutyHrs} hrs`, 420, 110 + pageHeight + 10);\n      pdf.line(20, 130 + pageHeight, 220, 130 + pageHeight);\n      pdf.text(\"Driver Signature\", 20, 145 + pageHeight);\n      pdf.setFontSize(8);\n      pdf.text(`Generated: ${currentDate}`, pageWidth - 160, 145 + pageHeight);\n    }\n    pdf.save(\"FMCSA_Driver_Log.pdf\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 20,\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Driver Daily Log Sheets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Cycle Hours Used:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), \" \", currentCycleHours.toFixed(1), \" hrs\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), logDays.map((day, idx) => {\n      var _day$fuel_inserted;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: day.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), \" \\u2014 \", day.activities.length, \" activities \\u2014 Fuel:\", \" \", (_day$fuel_inserted = day.fuel_inserted) !== null && _day$fuel_inserted !== void 0 ? _day$fuel_inserted : 0, \" L\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          id: `log-${idx}`,\n          width: 1000,\n          height: 200,\n          style: {\n            display: \"block\",\n            margin: \"0 auto\",\n            maxWidth: \"100%\",\n            height: \"auto\",\n            border: \"1px solid #ccc\",\n            borderRadius: 8,\n            cursor: \"crosshair\"\n          },\n          onClick: e => handleCanvasClick(e, idx)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDownloadPDF,\n      style: {\n        marginTop: 20,\n        backgroundColor: \"#1E90FF\",\n        color: \"white\",\n        border: \"none\",\n        padding: \"10px 20px\",\n        borderRadius: 6,\n        cursor: \"pointer\"\n      },\n      children: \"Download FMCSA PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n};\n_s(LogCanvas, \"9OF6XVUlS9Q8RdkCF5ZoR3kWPXI=\");\n_c = LogCanvas;\nexport default LogCanvas;\nvar _c;\n$RefreshReg$(_c, \"LogCanvas\");","map":{"version":3,"names":["React","useEffect","useState","html2canvas","jsPDF","jsxDEV","_jsxDEV","colors","OffDuty","Sleeper","Driving","OnDuty","statusY","drawCanvas","ctx","dayActivities","bgImage","width","height","naturalHeight","naturalWidth","clearRect","drawImage","scaleY","forEach","a","start","Date","end","startHours","getUTCHours","getUTCMinutes","endHours","xStart","xEnd","y","status","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","LogCanvas","days","driverInfo","_s","logDays","setLogDays","Image","src","onload","day","idx","canvas","document","getElementById","getContext","activities","calcTotalHours","filter","reduce","sum","currentCycleHours","d","handleCanvasClick","e","dayIndex","target","rect","getBoundingClientRect","x","clientX","left","clientY","top","hours","newActivity","Math","floor","prev","updated","push","handleDownloadPDF","pdf","currentDate","toLocaleString","i","length","canvasImage","scale","imgData","toDataURL","pageWidth","internal","pageSize","getWidth","pageHeight","addPage","setFontSize","text","align","name","company","date","addImage","driveHrs","toFixed","onDutyHrs","offDutyHrs","line","save","style","marginTop","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","map","_day$fuel_inserted","marginBottom","fuel_inserted","id","display","margin","maxWidth","border","borderRadius","cursor","onClick","backgroundColor","color","padding","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/hos-app/frontend/src/components/LogCanvas.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\n\r\n// Define status colors\r\nconst colors = {\r\n  OffDuty: \"#66cc66\",\r\n  Sleeper: \"#9966ff\",\r\n  Driving: \"#1E90FF\",\r\n  OnDuty: \"#FFA500\",\r\n};\r\n\r\n// Define Y positions (adjusted to your sheet layout)\r\nconst statusY = {\r\n  OffDuty: 162,\r\n  Sleeper: 122,\r\n  Driving: 84,\r\n  OnDuty: 46,\r\n};\r\n\r\n// Draws the background image and activity lines\r\nfunction drawCanvas(ctx, dayActivities, bgImage) {\r\n  const width = 1000;\r\n  const height = (bgImage.naturalHeight / bgImage.naturalWidth) * width;\r\n\r\n  ctx.clearRect(0, 0, width, height);\r\n  ctx.drawImage(bgImage, 0, 0, width, height);\r\n\r\n  const scaleY = height / bgImage.naturalHeight;\r\n\r\n  dayActivities.forEach((a) => {\r\n    const start = new Date(a.start);\r\n    const end = new Date(a.end);\r\n    const startHours = start.getUTCHours() + start.getUTCMinutes() / 60;\r\n    const endHours = end.getUTCHours() + end.getUTCMinutes() / 60;\r\n\r\n    const xStart = (startHours / 24) * width;\r\n    const xEnd = (endHours / 24) * width;\r\n    const y = (statusY[a.status] || statusY.OffDuty) * scaleY;\r\n\r\n    ctx.strokeStyle = colors[a.status] || \"#000\";\r\n    ctx.lineWidth = 5;\r\n    ctx.beginPath();\r\n    ctx.moveTo(xStart, y);\r\n    ctx.lineTo(xEnd, y);\r\n    ctx.stroke();\r\n  });\r\n}\r\n\r\nconst LogCanvas = ({ days = [], driverInfo = {} }) => {\r\n  const [logDays, setLogDays] = useState(days);\r\n\r\n  useEffect(() => {\r\n    const bgImage = new Image();\r\n    bgImage.src = \"/logsheets/blank-paper-log.png\"; \r\n\r\n    bgImage.onload = () => {\r\n      logDays.forEach((day, idx) => {\r\n        const canvas = document.getElementById(`log-${idx}`);\r\n        if (!canvas) return;\r\n        const ctx = canvas.getContext(\"2d\");\r\n        drawCanvas(ctx, day.activities, bgImage);\r\n      });\r\n    };\r\n  }, [logDays]);\r\n\r\n  // Calculate total hours for each status\r\n  const calcTotalHours = (activities, status) =>\r\n    activities\r\n      .filter((a) => a.status === status)\r\n      .reduce(\r\n        (sum, a) => sum + (new Date(a.end) - new Date(a.start)) / 3600000,\r\n        0\r\n      );\r\n\r\n  // Compute total hours for the cycle\r\n  const currentCycleHours = logDays.reduce(\r\n    (sum, d) =>\r\n      sum +\r\n      calcTotalHours(d.activities, \"Driving\") +\r\n      calcTotalHours(d.activities, \"OnDuty\"),\r\n    0\r\n  );\r\n\r\n \r\n  const handleCanvasClick = (e, dayIndex) => {\r\n    const canvas = e.target;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    const hours = (x / canvas.width) * 24;\r\n\r\n    // Determine clicked status area\r\n    let status = \"Driving\";\r\n    if (y < canvas.height * 0.25) status = \"OnDuty\";\r\n    else if (y < canvas.height * 0.5) status = \"Driving\";\r\n    else if (y < canvas.height * 0.75) status = \"Sleeper\";\r\n    else status = \"OffDuty\";\r\n\r\n    const newActivity = {\r\n      start: new Date(`2025-11-01T${Math.floor(hours)}:00:00Z`),\r\n      end: new Date(`2025-11-01T${Math.floor(hours + 1)}:00:00Z`),\r\n      status,\r\n    };\r\n\r\n    setLogDays((prev) => {\r\n      const updated = [...prev];\r\n      updated[dayIndex].activities.push(newActivity);\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // Export all sheets to a single PDF\r\n  const handleDownloadPDF = async () => {\r\n    const pdf = new jsPDF(\"landscape\", \"pt\", \"a4\");\r\n    const currentDate = new Date().toLocaleString();\r\n\r\n    for (let i = 0; i < logDays.length; i++) {\r\n      const canvas = document.getElementById(`log-${i}`);\r\n      if (!canvas) continue;\r\n\r\n      const canvasImage = await html2canvas(canvas, { scale: 2 });\r\n      const imgData = canvasImage.toDataURL(\"image/png\");\r\n      const pageWidth = pdf.internal.pageSize.getWidth();\r\n      const pageHeight = (canvas.height / canvas.width) * pageWidth;\r\n\r\n      if (i > 0) pdf.addPage();\r\n\r\n      // Header Info\r\n      pdf.setFontSize(14);\r\n      pdf.text(\"FMCSA DRIVER DAILY LOG SHEET\", pageWidth / 2, 30, {\r\n        align: \"center\",\r\n      });\r\n      pdf.setFontSize(10);\r\n      pdf.text(`Driver: ${driverInfo.name || \"\"}`, 20, 50);\r\n      pdf.text(`Company: ${driverInfo.company || \"\"}`, 20, 65);\r\n      pdf.text(`Date: ${logDays[i].date}`, 20, 80);\r\n\r\n      \r\n      pdf.addImage(imgData, \"PNG\", 0, 100, pageWidth, pageHeight);\r\n\r\n      // Summary\r\n      const driveHrs = calcTotalHours(logDays[i].activities, \"Driving\").toFixed(1);\r\n      const onDutyHrs = calcTotalHours(logDays[i].activities, \"OnDuty\").toFixed(1);\r\n      const offDutyHrs = calcTotalHours(logDays[i].activities, \"OffDuty\").toFixed(1);\r\n\r\n      pdf.text(`Driving Hours: ${driveHrs} hrs`, 20, 110 + pageHeight + 10);\r\n      pdf.text(`On Duty: ${onDutyHrs} hrs`, 220, 110 + pageHeight + 10);\r\n      pdf.text(`Off Duty: ${offDutyHrs} hrs`, 420, 110 + pageHeight + 10);\r\n\r\n      pdf.line(20, 130 + pageHeight, 220, 130 + pageHeight);\r\n      pdf.text(\"Driver Signature\", 20, 145 + pageHeight);\r\n\r\n      pdf.setFontSize(8);\r\n      pdf.text(`Generated: ${currentDate}`, pageWidth - 160, 145 + pageHeight);\r\n    }\r\n\r\n    pdf.save(\"FMCSA_Driver_Log.pdf\");\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: 20, textAlign: \"center\" }}>\r\n      <h2>Driver Daily Log Sheets</h2>\r\n      <p>\r\n        <strong>Cycle Hours Used:</strong> {currentCycleHours.toFixed(1)} hrs\r\n      </p>\r\n\r\n      {logDays.map((day, idx) => (\r\n        <div key={idx} style={{ marginTop: 20 }}>\r\n          <div style={{ marginBottom: 8 }}>\r\n            <strong>{day.date}</strong> — {day.activities.length} activities — Fuel:{\" \"}\r\n            {day.fuel_inserted ?? 0} L\r\n          </div>\r\n          <canvas\r\n            id={`log-${idx}`}\r\n            width={1000}\r\n            height={200}\r\n            style={{\r\n              display: \"block\",\r\n              margin: \"0 auto\",\r\n              maxWidth: \"100%\",\r\n              height: \"auto\",\r\n              border: \"1px solid #ccc\",\r\n              borderRadius: 8,\r\n              cursor: \"crosshair\",\r\n            }}\r\n            onClick={(e) => handleCanvasClick(e, idx)}\r\n          />\r\n        </div>\r\n      ))}\r\n\r\n      <button\r\n        onClick={handleDownloadPDF}\r\n        style={{\r\n          marginTop: 20,\r\n          backgroundColor: \"#1E90FF\",\r\n          color: \"white\",\r\n          border: \"none\",\r\n          padding: \"10px 20px\",\r\n          borderRadius: 6,\r\n          cursor: \"pointer\",\r\n        }}\r\n      >\r\n        Download FMCSA PDF\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogCanvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}